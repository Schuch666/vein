0.1*1.5
3.83/0.26
2.23/0.26
53/..1
53/1.13
88/12
878/40
236/17
4662/141
install.packages("pkgdown")
knitr::opts_chunk$set(echo = TRUE)
knitr::include_graphics("https://i.imgur.com/b2lQZzi.jpg")
knitr::include_graphics("https://i.imgur.com/b2lQZzi.jpg")
knitr::include_graphics("https://i.imgur.com/wp3fi1i.png")
devtools::load_all(".")
knitr::include_graphics("https://i.imgur.com/wp3fi1i.png")
library(vein)
library(vein)
pkgdown:::build_site_rstudio()
devtools::load_all(".")
pkgdown:::build_site_rstudio()
data(net)
data(pc_profile)
data(fe2015)
data(fkm)
PC_G <- c(33491,22340,24818,31808,46458,28574,24856,28972,37818,49050,87923,
133833,138441,142682,171029,151048,115228,98664,126444,101027,
84771,55864,36306,21079,20138,17439, 7854,2215,656,1262,476,512,
1181, 4991, 3711, 5653, 7039, 5839, 4257,3824, 3068)
pc1 <- my_age(x = net$ldv, y = PC_G, name = "PC")
# Estimation for morning rush hour and local emission factors
speed <- data.frame(S8 = net$ps)
p1h <- matrix(1)
lef <- EmissionFactorsList(fe2015[fe2015$Pollutant=="CO", "PC_G"])
E_CO <- emis(veh = pc1,lkm = net$lkm, ef = lef, speed = speed,
profile = p1h)
E_CO_STREETS <- emis_post(arra = E_CO, pollutant = "CO", by = "streets_wide")
summary(E_CO_STREETS)
E_CO_STREETSsf <- emis_post(arra = E_CO, pollutant = "CO",
by = "streets_wide", net = net)
summary(E_CO_STREETSsf)
plot(E_CO_STREETSsf, main = "CO emissions (g/h)")
# arguments required: arra, veh, size, fuel, pollutant ad by
E_CO_DF <- emis_post(arra = E_CO,  veh = "PC", size = "<1400", fuel = "G",
pollutant = "CO", by = "veh")
# Estimation 168 hours
pc1 <- my_age(x = net$ldv, y = PC_G, name = "PC")
pcw <- temp_fact(net$ldv+net$hdv, pc_profile)
speed <- netspeed(pcw, net$ps, net$ffs, net$capacity, net$lkm, alpha = 1)
pckm <- fkm[[1]](1:24); pckma <- cumsum(pckm)
cod1 <- emis_det(po = "CO", cc = 1000, eu = "III", km = pckma[1:11])
cod2 <- emis_det(po = "CO", cc = 1000, eu = "I", km = pckma[12:24])
#vehicles newer than pre-euro
co1 <- fe2015[fe2015$Pollutant=="CO", ] #24 obs!!!
cod <- c(co1$PC_G[1:24]*c(cod1,cod2),co1$PC_G[25:nrow(co1)])
lef <- ef_ldv_scaled(dfcol = cod, v = "PC",  cc = "<=1400",
f = "G",p = "CO", eu=co1$Euro_LDV)
E_CO <- emis(veh = pc1,lkm = net$lkm, ef = lef, speed = speed, agemax = 41,
profile = pc_profile)
library(vein)
data(net)
data(pc_profile)
data(fe2015)
data(fkm)
PC_G <- c(33491,22340,24818,31808,46458,28574,24856,28972,37818,49050,87923,
133833,138441,142682,171029,151048,115228,98664,126444,101027,
84771,55864,36306,21079,20138,17439, 7854,2215,656,1262,476,512,
1181, 4991, 3711, 5653, 7039, 5839, 4257,3824, 3068)
pc1 <- my_age(x = net$ldv, y = PC_G, name = "PC")
# Estimation for morning rush hour and local emission factors
speed <- data.frame(S8 = net$ps)
p1h <- matrix(1)
lef <- EmissionFactorsList(fe2015[fe2015$Pollutant=="CO", "PC_G"])
E_CO <- emis(veh = pc1,lkm = net$lkm, ef = lef, speed = speed,
profile = p1h)
E_CO_STREETS <- emis_post(arra = E_CO, pollutant = "CO", by = "streets_wide")
summary(E_CO_STREETS)
E_CO_STREETSsf <- emis_post(arra = E_CO, pollutant = "CO",
by = "streets_wide", net = net)
summary(E_CO_STREETSsf)
plot(E_CO_STREETSsf, main = "CO emissions (g/h)")
# arguments required: arra, veh, size, fuel, pollutant ad by
E_CO_DF <- emis_post(arra = E_CO,  veh = "PC", size = "<1400", fuel = "G",
pollutant = "CO", by = "veh")
# Estimation 168 hours
pc1 <- my_age(x = net$ldv, y = PC_G, name = "PC")
pcw <- temp_fact(net$ldv+net$hdv, pc_profile)
speed <- netspeed(pcw, net$ps, net$ffs, net$capacity, net$lkm, alpha = 1)
pckm <- fkm[[1]](1:24); pckma <- cumsum(pckm)
cod1 <- emis_det(po = "CO", cc = 1000, eu = "III", km = pckma[1:11])
cod2 <- emis_det(po = "CO", cc = 1000, eu = "I", km = pckma[12:24])
#vehicles newer than pre-euro
co1 <- fe2015[fe2015$Pollutant=="CO", ] #24 obs!!!
cod <- c(co1$PC_G[1:24]*c(cod1,cod2),co1$PC_G[25:nrow(co1)])
lef <- ef_ldv_scaled(dfcol = cod, v = "PC",  cc = "<=1400",
f = "G",p = "CO", eu=co1$Euro_LDV)
E_CO <- emis(veh = pc1,lkm = net$lkm, ef = lef, speed = speed, agemax = 41,
profile = pc_profile)
dim(E_CO)
x <- unlist(lapply(1:dim(arra)[4], function(j) {# dia
unlist(lapply (1:dim(arra)[3],function(i) { # hora
rowSums(arra[,,i,j], na.rm = T)
}))
}))
x <- lapply(1:dim(arra)[4], function(j) {# dia
lapply (1:dim(arra)[3],function(i) { # hora
arra[,,i,j]
})
})
x <- unlist(lapply(1:dim(arra)[4], function(j) {# dia7
arra <- E_CO
x <- lapply(1:dim(arra)[4], function(j) {# dia
lapply (1:dim(arra)[3],function(i) { # hora
arra[,,i,j]
})
})
x
length(x)
length(x[[1]])
length(x[[1]][[1]])
1505*41
x <- lapply(1:dim(arra)[4], function(j) {# dia
lapply (1:dim(arra)[3],function(i) { # hora
lapply(1:dim(arra)[2], function(k){
arra[,,i,j]
})
})
})
arra[,k,i,j]
x <- lapply(1:dim(arra)[4], function(j) {# dia
lapply (1:dim(arra)[3],function(i) { # hora
lapply(1:dim(arra)[2], function(k){
arra[,k,i,j]
})
})
})
length(x)
length(x[[1]])
length(x[[1]][[1]])
EmissionsList(x)
EmissionsList
EmissionsList(x)
x <- unlist(lapply(1:dim(arra)[4], function(j) {# dia
unlist(lapply (1:dim(arra)[3],function(i) { # hora
rowSums(arra[,,i,j], na.rm = T)
}))
}))
dim(x)
class(x)
length(x)
m <- matrix(x, nrow=dim(arra)[1], ncol=dim(arra)[3]*dim(arra)[4])
df <- as.data.frame(m)
dim(df)
x <- unlist(lapply(1:dim(arra)[4], function(j) {# dia
unlist(lapply (1:dim(arra)[3],function(i) { # hora
lapply(1:dim(arra)[2], function(k){
arra[,k,i,j]
})
}))
}))
length(x)
class(x)
41*7*24
41*7*24*1505
x <- lapply(1:dim(arra)[4], function(j) {# dia
lapply (1:dim(arra)[3],function(i) { # hora
lapply(1:dim(arra)[2], function(k){
arra[,k,i,j]
})
})
})
length(x)
length(x)
length(x[[1]])
length(x[[1]][[1]])
dim(arra[, 1,,])
dim(arra[, 2,,])
dim(arra[, 1:,,])
dim(arra[, 1:3,,])
df <- Emissions(apply(X = arra, MARGIN = c(1,3), FUN = sum, na.rm = TRUE))
head(df)
arra <- E_CO
df <- lapply(1:dim(arra)[2], function(i){
apply(X = arra, MARGIN = c(1,3), FUN = sum, na.rm = TRUE)
})
head(apply(X = arra[, 2,,], MARGIN = c(1,3), FUN = sum, na.rm = TRUE))
head(apply(X = arra[, 1,,], MARGIN = c(1,3), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, 1,,], MARGIN = c(1,3), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, 1,,], MARGIN = c(1,2), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, 1,,], MARGIN = c(1,4), FUN = sum, na.rm = TRUE))
class(arra[, 1, , ])
dim(arra[, 1, , ])
dim(apply(X = arra[, 1,,], MARGIN = c(2,3), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, 1,,], MARGIN = c(1,3), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, 1,,], MARGIN = c(1,2), FUN = sum, na.rm = TRUE))
dim(apply(X = arra[, ,,], MARGIN = c(1,2), FUN = sum, na.rm = TRUE))
dim(arra)
rowSums(arra[ , 2:5, , ])
dim(rowSums(arra[ , 2:5, , ]))
rowSums(arra[ , 2:5, , ])
length(arra[ , 2:5, , ])
devtools::load_all(".")
library(vein)
library(vein)
#' data(net)
#' data(pc_profile)
#' pc_week <- temp_fact(net$ldv+net$hdv, pc_profile[, 1])
#' df <- netspeed(pc_week, net$ps, net$ffs, net$capacity, net$lkm, alpha = 1)
#' ef <- ef_wear(wear = "tyre", type = "PC", pol = "PM10", speed = df)
#' emi <- emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
#'                  lkm = net$lkm, ef = ef, speed = df,
#'                  profile = pc_profile[, 1])
#' emi
#' }
emis_wear <- function (veh,
lkm,
ef,
what = "tyre",
speed,
agemax = ncol(veh),
profile,
hour = nrow(profile),
day = ncol(profile)) {
if(units(lkm)$numerator == "m" ){
stop("Units of lkm is 'm'")
}
veh <- as.data.frame(veh)
lkm <- as.numeric(lkm)
if(is.data.frame(profile)){
profile <- profile
} else if(is.matrix(ef)){
profile <- profile
} else if(is.vector(profile)){
profile <- matrix(as.numeric(profile), ncol = 1)
}
if(ncol(ef)/24 != day){
stop("Number of days of ef and profile must be the same")
}
if(!missing(profile) & is.data.frame(profile)){
profile <- profile
} else if(!missing(profile) & is.matrix(profile)){
profile <- profile
} else if(!missing(profile) & is.vector(profile)){
profile <- matrix(profile, ncol = 1)
}
lef <- lapply(1:day, function(i){
as.list(ef[, (24*(i-1) + 1):(24*i)])
})
# lapply(ef, as.list)
if (what == "tyre"){
d <-  simplify2array(
lapply(1:day,function(j){
simplify2array(
lapply(1:hour,function(i){
simplify2array(
lapply(1:agemax, function(k){
ifelse(
speed[,i] < 40,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*1.67,
ifelse(
speed[,i] >= 40 & speed[,i] <= 95,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*(-0.0270*speed[, i] + 2.75),
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*0.185
)) })) })) }))
} else if(what){
d <-  simplify2array(
lapply(1:day,function(j){
simplify2array(
lapply(1:hour,function(i){
simplify2array(
lapply(1:agemax, function(k){
ifelse(
speed[,i] < 40,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*1.39,
ifelse(
speed[,i] >= 40 & speed[,i] < 80,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*(-0.00974*speed[, i] + 1.78),
ifelse(
speed[,i] == 80,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]],
ifelse(
speed[,i] > 80 & speed[,i] <= 90,
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*(-0.00974*speed[, i] + 1.78),
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]*0.902
)))) })) })) }))
} else {
d <-  simplify2array(
lapply(1:day,function(j){
simplify2array(
lapply(1:hour,function(i){
simplify2array(
lapply(1:agemax, function(k){
veh[, k]*profile[i,j]*lkm*lef[[j]][[i]]
})) })) }))
}
return(EmissionsArray(d))
}
library(devtools)
library(testthat)
use_testthat()
use_test("emis_wear")
data(net)
data(pc_profile)
pc_week <- temp_fact(net$ldv+net$hdv, pc_profile[, 1])
df <- netspeed(pc_week, net$ps, net$ffs, net$capacity, net$lkm, alpha = 1)
ef <- ef_wear(wear = "tyre", type = "PC", pol = "PM10", speed = df)
emi <- emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])
devtools::load_all(".")
library(vein)
library(vein)
rm(emis_wear())
rm(emis_wear)
data(net)
data(pc_profile)
pc_week <- temp_fact(net$ldv+net$hdv, pc_profile[, 1])
df <- netspeed(pc_week, net$ps, net$ffs, net$capacity, net$lkm, alpha = 1)
ef <- ef_wear(wear = "tyre", type = "PC", pol = "PM10", speed = df)
emi <- emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])
emi
emi[1]
test_that("emis_wear works", {
expect_equal(emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1],
0.03503776)
})
emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
what = "break",
profile = pc_profile[, 1])[1]
emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
what = "break",
profile = pc_profile[, 1])[1]
emis_wear(what = "break", veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1]
emis_wear(what = "tyre", veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1]
devtools::load_all(".")
library(vein)
library(vein)
emis_wear(what = "tyre", veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1]
emis_wear(what = "break", veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1]
emis_wear(what = "road", veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1]
test_that("emis_wear works", {
expect_equal(emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
profile = pc_profile[, 1])[1],
0.03503776)
})
test_that("emis_wear works", {
expect_equal(emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
what = "break",
profile = pc_profile[, 1])[1],
0.03702493)
})
test_that("emis_wear works", {
expect_equal(emis_wear(veh = age_ldv(net$ldv, name = "VEH"),
lkm = net$lkm, ef = ef, speed = df,
what = "road",
profile = pc_profile[, 1])[1],
0.03094737)
})
pkgdown:::build_site_rstudio()
pkgdown:::build_site_rstudio()
pkgdown:::build_site_rstudio()
devtools::load_all(".")
system("locate sysdata.R")
ldv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_pc_v2.csv", h=T)
ldv$EURO <- gsub(pattern = " ", replacement="", x = ldv$EURO)
hdv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_hdv.csv", h=T)
hdv$EURO <- gsub(pattern = " ", replacement="", x = hdv$EURO)
ev <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ev_t2.csv", h=T)
bcom <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/bcom.csv", h=T)
cold <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/cold.csv", h=T)
iag <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/iag4.csv", h=T) #sergio
nox <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nox.csv", h=T)
nitro <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nitro.csv", h=T)
nmhc <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nmhc.csv", h=T)
sysdata <- list(ldv, hdv, ev, bcom, cold, iag, nox, nitro, nmhc)
save(sysdata, file="~/Documentos/vein/R/sysdata.rda", compress = "xz")
devtools::load_all(".")
library(vein)
library(vein)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")(1:100)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")(1)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CO")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NOx")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "HC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "FC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "PM")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CH4")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CO2")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "SO2", sulphur = 50)(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CH4")(30)
ldv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_pc_may2018.csv", h=T)
ldv$EURO <- gsub(pattern = " ", replacement="", x = ldv$EURO)
hdv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_hdv.csv", h=T)
hdv$EURO <- gsub(pattern = " ", replacement="", x = hdv$EURO)
ev <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ev_t2.csv", h=T)
bcom <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/bcom.csv", h=T)
cold <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/cold.csv", h=T)
iag <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/iag4.csv", h=T) #sergio
nox <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nox.csv", h=T)
nitro <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nitro.csv", h=T)
nmhc <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nmhc.csv", h=T)
sysdata <- list(ldv, hdv, ev, bcom, cold, iag, nox, nitro, nmhc)
save(sysdata, file="~/Documentos/vein/R/sysdata.rda", compress = "xz")
devtools::load_all(".")
library(vein)
library(vein)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CO")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NOx")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "HC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "FC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "PM")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CH4")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "HC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "NMHC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "CH4")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "FC")(30)
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", "PM")(30)
devtools::load_all(".")
library(vein)
library(vein)
pol <- c("CO", "NOx", "HC", "NMHC", "CH4", "FC", "PM", "CO2", "SO2", "Pb")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i])(30)
})
devtools::load_all(".")
library(vein)
ev <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ev_t2.csv", h=T)
ldv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_pc_may2018.csv", h=T)
ldv$EURO <- gsub(pattern = " ", replacement="", x = ldv$EURO)
hdv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_hdv.csv", h=T)
hdv$EURO <- gsub(pattern = " ", replacement="", x = hdv$EURO)
ev <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ev_t2.csv", h=T)
bcom <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/bcom.csv", h=T)
cold <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/cold.csv", h=T)
iag <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/iag4.csv", h=T) #sergio
nox <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nox.csv", h=T)
nitro <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nitro.csv", h=T)
nmhc <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nmhc.csv", h=T)
sysdata <- list(ldv, hdv, ev, bcom, cold, iag, nox, nitro, nmhc)
save(sysdata, file="~/Documentos/vein/R/sysdata.rda", compress = "xz")
devtools::load_all(".")
library(vein)
library(vein)
pol <- c("CO", "NOx", "HC", "NMHC", "CH4", "FC", "PM", "CO2", "SO2", "Pb")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i])(30)
})
ldv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_pc_may2018.csv", h=T)
ldv$EURO <- gsub(pattern = " ", replacement="", x = ldv$EURO)
hdv <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ef_hdv.csv", h=T)
hdv$EURO <- gsub(pattern = " ", replacement="", x = hdv$EURO)
ev <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/ev_t2.csv", h=T)
bcom <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/bcom.csv", h=T)
cold <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/cold.csv", h=T)
iag <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/iag4.csv", h=T) #sergio
nox <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nox.csv", h=T)
nitro <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nitro.csv", h=T)
nmhc <- read.csv("~/MEGA/PhDgrive/Literatura/COPERT/nmhc.csv", h=T)
sysdata <- list(ldv, hdv, ev, bcom, cold, iag, nox, nitro, nmhc)
save(sysdata, file="~/Documentos/vein/R/sysdata.rda", compress = "xz")
devtools::load_all(".")
library(vein)
library(vein)
pol <- c("CO", "NOx", "HC", "NMHC", "CH4", "FC", "PM", "CO2", "SO2", "Pb")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i])(30)
})
pol <- c("CO", "NOx", "HC", "NMHC", "CH4", "FC", "PM", "CO2")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i])(30)
})
pol <- c("Pb", "SO2")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i], x = 10)(30)
})
devtools::load_all(".")
library(vein)
library(vein)
pol <- c("Pb", "SO2")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i], x = 10)(30)
})
# Quick view
pol <- c("CO", "NOx", "HC", "NMHC", "CH4", "FC", "PM", "CO2")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i])(30)
})
pol <- c("Pb", "SO2")
sapply(1:length(pol), function(i){
ef_ldv_speed("PC", "4S", "<=1400", "G", "PRE", pol[i], x = 10)(30)
})
